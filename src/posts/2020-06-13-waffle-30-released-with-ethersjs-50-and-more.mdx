---
title: "üßá Waffle 3.0 released! With ethers.js 5.0 and more!"
author: "Marek Kirejczyk"
date: "2020-06-13"
heroImage: "/images/posts/1*wn8o0ts9U8Tydi9dnCUCXg.jpeg"
# tags: [] # No tags generated
---

We‚Äòre glad to announce that we‚Äôve just released Waffle 3.0 with support for ethers.js 5.0 and much more.

We‚Äòre especially happy that we have managed to release it on the same day üìÖ as the long awaited ethers version 5!

In recent weeks, we‚Äôve put a lot of effort pushing Waffle forward to make it the most advanced and the best smart contracts testing framework.

We‚Äôve added a lot of new functionalities, most of which were available in Waffle 2.5 as experimental:

- Mocking smart contracts ( [blog post](https://medium.com/ethworks/mocking-solidity-smart-contracts-with-waffle-55813b22ebf2) , [docs](https://ethereum-waffle.readthedocs.io/en/latest/mock-contract.html) , [example](https://github.com/EthWorks/Waffle/tree/master/examples/mock-contracts) )
- Testing the effects of a call ( [blog post](https://medium.com/ethworks/new-waffle-matcher-expect-to-be-calledoncontract-50dbd2a71a78) , [docs](https://ethereum-waffle.readthedocs.io/en/latest/matchers.html#called-on-contract) , [example](https://github.com/EthWorks/Waffle/tree/master/examples/called-on-contract) )
- Add support for testing with ENS (blog post coming, [docs](https://ethereum-waffle.readthedocs.io/en/latest/ens.html) )
- Support for Vyper compilation ( [docs](https://ethereum-waffle.readthedocs.io/en/latest/compilation.html#using-dockerized-vyper) )
- Flattening ( [doc](https://ethereum-waffle.readthedocs.io/en/latest/getting-started.html#flattener) )
- New cleaner and simpler configuration ( [doc](https://ethereum-waffle.readthedocs.io/en/latest/configuration.html#configuration-file) )

Moreover, we‚Äôve:

- [updated documentation](https://ethereum-waffle.readthedocs.io/en/latest/) üìù
- added [examples](https://github.com/EthWorks/Waffle/tree/master/examples) ü™Ä
- refreshed our [website](https://getwaffle.io/) üåé.

And, as a final effort in this batch of work, we‚Äòre releasing Waffle 3.0.

Releasing a new major version is a great occasion to make breaking changes and improve on some early design decisions that we made. Some of them made API inconsistent, others make it hard to extend.

Below is a list of the key breaking changes:

- Remove createMockProvider() in favour of new MockProvider()
- Remove getWallets() in favour of provider.getWallets()
- Remove experimental warnings from features introduced in 2.5
- Fixtures have swapped arguments order,before: fixtureFunction(provider, wallets), after: fixtureFunction(wallets, provider)
- Full migration guide is [**available here**](https://ethereum-waffle.readthedocs.io/en/latest/migration-guides.html#migration-from-waffle-2-5-to-waffle-3-0-0) .

I would like give thanks to all the great people who have been involved in developing recent advancements:

- [@pedrouid]
from [WalletConnect]
who did most of the heavy lifting of migration to Ethers.js version 5.0
- [@ricmoo]
from ethers.js who helped us in the toughest moments of the migration
- [@b_asselstine]
from [PoolTogether]
who introduced mocking for overloaded functions
- Developers in [Ethworks]
team:@ [PSzlachciak](https://twitter.com/PSzlachciak) , [@VladStarostenko](https://github.com/VladStarostenko) , @ [rzadp](https://github.com/rzadp) , @ [Jozwiaczek](https://github.com/Jozwiaczek) , @ [msieczko](https://github.com/msieczko) , @ [vanruch]
who worked hard to deliver all the new features listed above
- Last but by no means least‚Äî [Nomic Labs]
team and [Ethereum foundation]
for appreciating our efforts and giving us a grant to develop Waffle further

And most importantly, we would like to say thank you to all of our users!

[Over 250 projects]
are using Waffle! üéâüéâüéâ

Thank you!

We are [Ethworks](https://ethworks.io/) . A truly remarkable team for your blockchain project.

Find us on [Twitter](https://twitter.com/ethworks) , [Dribbble]
and [GitHub](https://github.com/ethworks) .