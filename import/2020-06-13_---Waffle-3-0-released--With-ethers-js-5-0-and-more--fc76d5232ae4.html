<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>🧇 Waffle 3.0 released! With ethers.js 5.0 and more!</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">🧇 Waffle 3.0 released! With ethers.js 5.0 and more!</h1>
</header>
<section data-field="subtitle" class="p-summary">
We‘re glad to announce that we’ve just released Waffle 3.0 with support for ethers.js 5.0 and much more.
</section>
<section data-field="body" class="e-content">
<section name="8701" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="ca67" id="ca67" class="graf graf--h3 graf--leading graf--title">🧇 Waffle 3.0 released! With ethers.js 5.0 and more!</h3><figure name="350c" id="350c" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*wn8o0ts9U8Tydi9dnCUCXg.jpeg" data-width="1500" data-height="1000" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*wn8o0ts9U8Tydi9dnCUCXg.jpeg"></figure><p name="f92d" id="f92d" class="graf graf--p graf-after--figure">We‘re glad to announce that we’ve just released Waffle 3.0 with support for ethers.js 5.0 and much more.</p><p name="1763" id="1763" class="graf graf--p graf-after--p">We‘re especially happy that we have managed to release it on the same day 📅 as the long awaited ethers version 5!</p><h3 name="fb39" id="fb39" class="graf graf--h3 graf-after--p">Advancements 🚀</h3><p name="12cb" id="12cb" class="graf graf--p graf-after--h3">In recent weeks, we’ve put a lot of effort pushing Waffle forward to make it the most advanced and the best smart contracts testing framework.</p><p name="5526" id="5526" class="graf graf--p graf-after--p">We’ve added a lot of new functionalities, most of which were available in Waffle 2.5 as experimental:</p><ul class="postList"><li name="7182" id="7182" class="graf graf--li graf-after--p">Mocking smart contracts (<a href="https://medium.com/ethworks/mocking-solidity-smart-contracts-with-waffle-55813b22ebf2" data-href="https://medium.com/ethworks/mocking-solidity-smart-contracts-with-waffle-55813b22ebf2" class="markup--anchor markup--li-anchor" target="_blank">blog post</a>, <a href="https://ethereum-waffle.readthedocs.io/en/latest/mock-contract.html" data-href="https://ethereum-waffle.readthedocs.io/en/latest/mock-contract.html" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">docs</a>, <a href="https://github.com/EthWorks/Waffle/tree/master/examples/mock-contracts" data-href="https://github.com/EthWorks/Waffle/tree/master/examples/mock-contracts" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">example</a>)</li><li name="0658" id="0658" class="graf graf--li graf-after--li">Testing the effects of a call (<a href="https://medium.com/ethworks/new-waffle-matcher-expect-to-be-calledoncontract-50dbd2a71a78" data-href="https://medium.com/ethworks/new-waffle-matcher-expect-to-be-calledoncontract-50dbd2a71a78" class="markup--anchor markup--li-anchor" target="_blank">blog post</a>, <a href="https://ethereum-waffle.readthedocs.io/en/latest/matchers.html#called-on-contract" data-href="https://ethereum-waffle.readthedocs.io/en/latest/matchers.html#called-on-contract" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">docs</a>, <a href="https://github.com/EthWorks/Waffle/tree/master/examples/called-on-contract" data-href="https://github.com/EthWorks/Waffle/tree/master/examples/called-on-contract" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">example</a>)</li><li name="7b42" id="7b42" class="graf graf--li graf-after--li">Add support for testing with ENS (blog post coming, <a href="https://ethereum-waffle.readthedocs.io/en/latest/ens.html" data-href="https://ethereum-waffle.readthedocs.io/en/latest/ens.html" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">docs</a>)</li><li name="0baf" id="0baf" class="graf graf--li graf-after--li">Support for Vyper compilation (<a href="https://ethereum-waffle.readthedocs.io/en/latest/compilation.html#using-dockerized-vyper" data-href="https://ethereum-waffle.readthedocs.io/en/latest/compilation.html#using-dockerized-vyper" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">docs</a>)</li><li name="072a" id="072a" class="graf graf--li graf-after--li">Flattening (<a href="https://ethereum-waffle.readthedocs.io/en/latest/getting-started.html#flattener" data-href="https://ethereum-waffle.readthedocs.io/en/latest/getting-started.html#flattener" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">doc</a>)</li><li name="51e9" id="51e9" class="graf graf--li graf-after--li">New cleaner and simpler configuration (<a href="https://ethereum-waffle.readthedocs.io/en/latest/configuration.html#configuration-file" data-href="https://ethereum-waffle.readthedocs.io/en/latest/configuration.html#configuration-file" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">doc</a>)</li></ul><p name="27bc" id="27bc" class="graf graf--p graf-after--li">Moreover, we’ve:</p><ul class="postList"><li name="3cb6" id="3cb6" class="graf graf--li graf-after--p"><a href="https://ethereum-waffle.readthedocs.io/en/latest/" data-href="https://ethereum-waffle.readthedocs.io/en/latest/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">updated documentation</a> 📝</li><li name="40a7" id="40a7" class="graf graf--li graf-after--li">added <a href="https://github.com/EthWorks/Waffle/tree/master/examples" data-href="https://github.com/EthWorks/Waffle/tree/master/examples" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">examples</a> 🪀</li><li name="68a2" id="68a2" class="graf graf--li graf-after--li">refreshed our <a href="https://getwaffle.io/" data-href="https://getwaffle.io/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">website</a> 🌎.</li></ul><h3 name="0ae6" id="0ae6" class="graf graf--h3 graf-after--li">Waffle 3.0 and breaking changes 💔</h3><p name="c43a" id="c43a" class="graf graf--p graf-after--h3">And, as a final effort in this batch of work, we‘re releasing Waffle 3.0.</p><p name="4be2" id="4be2" class="graf graf--p graf-after--p">Releasing a new major version is a great occasion to make breaking changes and improve on some early design decisions that we made. Some of them made API inconsistent, others make it hard to extend.</p><p name="ba18" id="ba18" class="graf graf--p graf-after--p">Below is a list of the key breaking changes:</p><ul class="postList"><li name="857d" id="857d" class="graf graf--li graf-after--p">Remove <code class="markup--code markup--li-code">createMockProvider()</code> in favour of <code class="markup--code markup--li-code">new MockProvider()</code></li><li name="2fbb" id="2fbb" class="graf graf--li graf-after--li">Remove <code class="markup--code markup--li-code">getWallets()</code> in favour of <code class="markup--code markup--li-code">provider.getWallets()</code></li><li name="25b5" id="25b5" class="graf graf--li graf-after--li">Remove experimental warnings from features introduced in 2.5</li><li name="f72f" id="f72f" class="graf graf--li graf-after--li">Fixtures have swapped arguments order,<br>before: <code class="markup--code markup--li-code">fixtureFunction(provider, wallets)</code>, <br>after: <code class="markup--code markup--li-code">fixtureFunction(wallets, provider)</code></li><li name="4030" id="4030" class="graf graf--li graf-after--li">Full migration guide is <a href="https://ethereum-waffle.readthedocs.io/en/latest/migration-guides.html#migration-from-waffle-2-5-to-waffle-3-0-0" data-href="https://ethereum-waffle.readthedocs.io/en/latest/migration-guides.html#migration-from-waffle-2-5-to-waffle-3-0-0" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--li-strong">available here</strong></a>.</li></ul><h3 name="1ae9" id="1ae9" class="graf graf--h3 graf-after--li">Acknowledgements 🙏</h3><p name="eb84" id="eb84" class="graf graf--p graf-after--h3">I would like give thanks to all the great people who have been involved in developing recent advancements:</p><ul class="postList"><li name="9774" id="9774" class="graf graf--li graf-after--p"><a href="https://twitter.com/pedrouid" data-href="https://twitter.com/pedrouid" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">@pedrouid</a> from <a href="https://walletconnect.org/" data-href="https://walletconnect.org/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">WalletConnect</a> who did most of the heavy lifting of migration to Ethers.js version 5.0</li><li name="2241" id="2241" class="graf graf--li graf-after--li"><a href="https://twitter.com/ricmoo" data-href="https://twitter.com/ricmoo" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">@ricmoo</a> from ethers.js who helped us in the toughest moments of the migration</li><li name="4170" id="4170" class="graf graf--li graf-after--li"><a href="https://twitter.com/b_asselstine" data-href="https://twitter.com/b_asselstine" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">@b_asselstine</a> from <a href="https://www.pooltogether.com/" data-href="https://www.pooltogether.com/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">PoolTogether</a> who introduced mocking for overloaded functions</li><li name="4746" id="4746" class="graf graf--li graf-after--li">Developers in <a href="https://ethworks.io/" data-href="https://ethworks.io/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Ethworks</a> team:@<a href="https://twitter.com/PSzlachciak" data-href="https://twitter.com/PSzlachciak" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">PSzlachciak</a>, <a href="https://github.com/VladStarostenko" data-href="https://github.com/VladStarostenko" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">@VladStarostenko</a>, @<a href="https://github.com/rzadp" data-href="https://github.com/rzadp" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">rzadp</a>, @<a href="https://github.com/Jozwiaczek" data-href="https://github.com/Jozwiaczek" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Jozwiaczek</a>, @<a href="https://github.com/msieczko" data-href="https://github.com/msieczko" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">msieczko</a>, @<a href="https://github.com/vanruch" data-href="https://github.com/vanruch" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">vanruch</a> who worked hard to deliver all the new features listed above</li><li name="780b" id="780b" class="graf graf--li graf-after--li">Last but by no means least— <a href="https://nomiclabs.io/" data-href="https://nomiclabs.io/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Nomic Labs</a> team and <a href="https://ethereum.org/foundation/" data-href="https://ethereum.org/foundation/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Ethereum foundation</a> for appreciating our efforts and giving us a grant to develop Waffle further</li></ul><p name="3fb0" id="3fb0" class="graf graf--p graf-after--li">And most importantly, we would like to say thank you to all of our users!</p><p name="2db1" id="2db1" class="graf graf--p graf-after--p"><a href="https://github.com/EthWorks/Waffle/network/dependents?package_id=UGFja2FnZS0xMTU1ODUyNzY%3D" data-href="https://github.com/EthWorks/Waffle/network/dependents?package_id=UGFja2FnZS0xMTU1ODUyNzY%3D" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Over 250 projects</a> are using Waffle! 🎉🎉🎉</p><p name="5d3d" id="5d3d" class="graf graf--p graf-after--p graf--trailing">Thank you!</p></div></div></section><section name="6b6d" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="f243" id="f243" class="graf graf--p graf--leading">We are <a href="https://ethworks.io/" data-href="https://ethworks.io/" class="markup--anchor markup--p-anchor" rel="noopener nofollow noopener" target="_blank">Ethworks</a>. A truly remarkable team for your blockchain project.</p><p name="72b4" id="72b4" class="graf graf--p graf-after--p graf--trailing">Find us on <a href="https://twitter.com/ethworks" data-href="https://twitter.com/ethworks" class="markup--anchor markup--p-anchor" rel="noopener nofollow noopener" target="_blank">Twitter</a>, <a href="https://dribbble.com/ethworks" data-href="https://dribbble.com/ethworks" class="markup--anchor markup--p-anchor" rel="noopener nofollow noopener" target="_blank">Dribbble</a> and <a href="https://github.com/ethworks" data-href="https://github.com/ethworks" class="markup--anchor markup--p-anchor" rel="noopener nofollow noopener" target="_blank">GitHub</a>.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@marekkirejczyk" class="p-author h-card">Marek Kirejczyk</a> on <a href="https://medium.com/p/fc76d5232ae4"><time class="dt-published" datetime="2020-06-13T06:18:17.699Z">June 13, 2020</time></a>.</p><p><a href="https://medium.com/@marekkirejczyk/waffle-3-0-released-with-ethers-js-5-0-and-more-fc76d5232ae4" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 22, 2025.</p></footer></article></body></html>