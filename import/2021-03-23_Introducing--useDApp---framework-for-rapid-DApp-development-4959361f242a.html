<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Introducing  useDApp - framework for rapid DApp development</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Introducing  useDApp - framework for rapid DApp development</h1>
</header>
<section data-field="subtitle" class="p-summary">
ğŸ… DApp - a new animal in the jungle
</section>
<section data-field="body" class="e-content">
<section name="bd33" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><figure name="1788" id="1788" class="graf graf--figure graf--leading"><img class="graf-image" data-image-id="1*fEPkJS_jJp3cb9rU92uS3A.png" data-width="984" data-height="355" src="https://cdn-images-1.medium.com/max/800/1*fEPkJS_jJp3cb9rU92uS3A.png"></figure><h3 name="7d88" id="7d88" class="graf graf--h3 graf-after--figure graf--title">Introducing useDApp - framework for rapid DApp development</h3><p name="427b" id="427b" class="graf graf--p graf-after--h3">This is the first post of our series on new useDApp features:<br>1. Introducing useDApp<br>2. <a href="https://medium.com/ethworks/usedapp-deep-dive-into-custom-hooks-and-testing-4a59fbc1769a" data-href="https://medium.com/ethworks/usedapp-deep-dive-into-custom-hooks-and-testing-4a59fbc1769a" class="markup--anchor markup--p-anchor" target="_blank">Deep dive into custom hooks and testing</a><br><em class="markup--em markup--p-em">3. Coming soon: sending transactions and notifications</em></p><h3 name="e3d7" id="e3d7" class="graf graf--h3 graf-after--p">ğŸ¦ useDApp - the new king of theÂ jungle</h3><p name="5fce" id="5fce" class="graf graf--p graf-after--h3">If you are a DApp developer, you probably found out by now that DApps are quite a different animal than a typical web application. They come with their own set of constraints and good practices on both UX and engineering side.</p><p name="9d20" id="9d20" class="graf graf--p graf-after--p">A DApp designed with <strong class="markup--strong markup--p-strong">user experience</strong> in mind will:<br>ğŸ”„ refresh after a new block arrives<br>ğŸ“º work in a read-only mode before connecting a wallet<br>âœ… show the status of the current transactions<br>â€¦ and much more.</p><p name="f400" id="f400" class="graf graf--p graf-after--p">A Dapp designed with <strong class="markup--strong markup--p-strong">developer experience</strong> in mind will:<br>ğŸ§ª work on both Mainnet and testnets<br>ğŸ¼ be easy to develop and extend<br>ğŸ›¡ï¸ be error proof and easy to test<br>â€¦ and much much more.</p><p name="0438" id="0438" class="graf graf--p graf-after--p">These requirements used to make writing quality DApps somewhat challenging. The tables are turning with useDApp. Time for the new king to establish a new order.</p><blockquote name="0acc" id="0acc" class="graf graf--blockquote graf-after--p"><strong class="markup--strong markup--blockquote-strong">Pragmatic approach</strong><br>Over the last four years we tried half a dozen of different approaches (including <strong class="markup--strong markup--blockquote-strong">React, Redux, Rx, Bonds and DDD</strong> architecture) and we found no perfect solution. We consider using <strong class="markup--strong markup--blockquote-strong">React hooks </strong>to be the most pragmatic approach.</blockquote><p name="e9ca" id="e9ca" class="graf graf--p graf-after--blockquote">useDApp standardises common routines, abstracts a lot of complexity and encourages using good practices that were developed by the community.</p><blockquote name="a0d4" id="a0d4" class="graf graf--blockquote graf-after--p"><strong class="markup--strong markup--blockquote-strong">Good design is opinionated</strong><br>useDApp builds on top of modern Dapp stack developed by the community, including libraries like <a href="https://github.com/ethers-io/ethers.js/" data-href="https://github.com/ethers-io/ethers.js/" class="markup--anchor markup--blockquote-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--blockquote-strong">ethers.js</strong></a><strong class="markup--strong markup--blockquote-strong">,</strong> <a href="https://github.com/NoahZinsmeister/web3-react" data-href="https://github.com/NoahZinsmeister/web3-react" class="markup--anchor markup--blockquote-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--blockquote-strong">web3-react</strong></a>, <a href="https://github.com/makerdao/multicall" data-href="https://github.com/makerdao/multicall" class="markup--anchor markup--blockquote-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--blockquote-strong">multicall</strong></a> pattern developed by Maker and <a href="https://getwaffle.io/" data-href="https://getwaffle.io/" class="markup--anchor markup--blockquote-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--blockquote-strong">Waffle</strong></a>â€Šâ€”â€Šused by useDApp for integration testing.</blockquote><h3 name="528a" id="528a" class="graf graf--h3 graf-after--blockquote">ğŸš¦Network connection</h3><p name="09ad" id="09ad" class="graf graf--p graf-after--h3">Letâ€™s start with a simple example application that shows total ether committed to Ethereum 2.0 staking contract as well as the user ether balance. See the code below:</p><figure name="0114" id="0114" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/marekkirejczyk/e54e76ee44500679f6f99fd419d6f118.js"></script><figcaption class="imageCaption">An example application: show Eth2 staking contract and userâ€™s balance</figcaption></figure><p name="0984" id="0984" class="graf graf--p graf-after--figure">The example code will display the following interface, with Ethereum 2 staking contract balance.</p><figure name="2664" id="2664" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*8U399MTOS1aQP9aEZvfTJg.gif" data-width="1754" data-height="792" src="https://cdn-images-1.medium.com/max/800/1*8U399MTOS1aQP9aEZvfTJg.gif"></figure><p name="c8bb" id="c8bb" class="graf graf--p graf-after--figure">Once you click <em class="markup--em markup--p-em">â€œConnectâ€</em> button and connect your wallet (e.g. MetaMask), your account address and balance will show up.</p><p name="d8bb" id="d8bb" class="graf graf--p graf-after--p">If you go back to the Metamask and <strong class="markup--strong markup--p-strong">switch to another wallet</strong> of yours or <strong class="markup--strong markup--p-strong">change the network</strong> to <em class="markup--em markup--p-em">GÃ¶rli (or any other testnet)</em> <strong class="markup--strong markup--p-strong">the interface will update</strong> to show relevant information.</p><p name="a799" id="a799" class="graf graf--p graf-after--p"><em class="markup--em markup--p-em">Fun fact: even though ETH2 staking contract is not deployed to GÃ¶rli, someone did transfer ETH to the same address on GÃ¶rli network.</em></p><p name="6bd5" id="6bd5" class="graf graf--p graf-after--p">The example is available <a href="https://example.usedapp.io/balance" data-href="https://example.usedapp.io/balance" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">here</a> and the code <a href="https://github.com/EthWorks/useDApp/blob/master/packages/example/src/pages/Balance.tsx" data-href="https://github.com/EthWorks/useDApp/blob/master/packages/example/src/pages/Balance.tsx" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">here</a>.</p><h4 name="390f" id="390f" class="graf graf--h4 graf-after--p">ğŸ‘©â€ğŸ« Below is a quick explanation of key code features:</h4><p name="7ec5" id="7ec5" class="graf graf--p graf-after--h4"><strong class="markup--strong markup--p-strong">Configâ€Šâ€”â€Š</strong>(In lines 1â€“6) is a single object containing configuration for the whole application. In our example we set up the connection to read-only chain by specifying <code class="markup--code markup--p-code">readOnlyChain</code> and <code class="markup--code markup--p-code">readOnlyUrls</code>fields.</p><p name="c45f" id="c45f" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">DAppProvider </strong>â€”(line 9) is a single component that you need to wrap your application in to manage the connection with blockchain.</p><p name="9f8f" id="9f8f" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">useEthersâ€Š</strong>â€”â€Šis a handy hook, that will provide all connection-related miscellanies: current <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">chainId</em>, </strong>current <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">account</em></strong><em class="markup--em markup--p-em"> </em>and access to <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">ethers</em></strong> instance connected to blockchain. And also a function that allows to manipulate connection like <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">activateBrowser</em>.</strong></p><p name="cc0c" id="cc0c" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">activateBrowser() </strong>â€”is a function that requests the user to connect to his browser wallet like MetaMask.</p><p name="101d" id="101d" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">useEtherBalance() </strong>â€”is a hook that fetches ether balance.</p><p name="2c24" id="2c24" class="graf graf--p graf-after--p">Letâ€™s look at all the work around connection management that you no longer need to worry about.</p><p name="25a2" id="25a2" class="graf graf--p graf-after--p">ğŸ“¡ <strong class="markup--strong markup--p-strong">Connection management</strong></p><ul class="postList"><li name="6402" id="6402" class="graf graf--li graf-after--p">Application will connect to a preconfigured node in <strong class="markup--strong markup--li-strong">read-only</strong> mode at the page load.</li><li name="dea2" id="dea2" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">activateBrowser</code> method requests connection to MetaMaskâ€Šâ€”â€Šno providers, no web3, no hustle.</li><li name="1315" id="1315" class="graf graf--li graf-after--li">If a user <strong class="markup--strong markup--li-strong">changes the network</strong> (e.g. Mainnet to GÃ¶rli Testnet) from his wallet, all interested components will <strong class="markup--strong markup--li-strong">automatically refresh</strong> and display the state for the current network.</li></ul><h3 name="5e4d" id="5e4d" class="graf graf--h3 graf-after--li">ğŸ”® Tokens, Multicall andÂ Magic</h3><p name="cbe1" id="cbe1" class="graf graf--p graf-after--h3">Letâ€™s take another example. It displays all the tokens from <a href="https://uniswap.org/blog/token-lists/" data-href="https://uniswap.org/blog/token-lists/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Uniswap default list</a> along with the userâ€™s balance for each of them. See the code below.</p><figure name="0a43" id="0a43" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/marekkirejczyk/8c86f3b21be37f934373392b8519a846.js"></script></figure><p name="3069" id="3069" class="graf graf--p graf-after--figure">The code will display the following interface. Note that you can connect and disconnect like in the previous example, as well as switch networks. The list of tokens on different networks will vary.</p><figure name="9ba9" id="9ba9" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*ZUDoqVtcgYG8el2LoFFcNg.gif" data-width="1754" data-height="792" src="https://cdn-images-1.medium.com/max/800/1*ZUDoqVtcgYG8el2LoFFcNg.gif"></figure><p name="53b3" id="53b3" class="graf graf--p graf-after--figure">The example is available <a href="https://example.usedapp.io/tokens" data-href="https://example.usedapp.io/tokens" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">here</a> and the code <a href="https://github.com/EthWorks/useDApp/blob/master/packages/example/src/pages/Tokens.tsx" data-href="https://github.com/EthWorks/useDApp/blob/master/packages/example/src/pages/Tokens.tsx" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">here</a>.</p><p name="4224" id="4224" class="graf graf--p graf-after--p">Now letâ€™s look at what the framework has optimised for us under the hood.</p><p name="2c23" id="2c23" class="graf graf--p graf-after--p">ğŸ“š <strong class="markup--strong markup--p-strong">MulticallÂ <br></strong>Every single call to blockchain is handled by the framework, which provides a series of services:</p><ul class="postList"><li name="63d8" id="63d8" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Combines multiple calls into one</strong>â€Šâ€”â€Ševery single hook call is debounced and combined into one long list. Once all calls are collected, a single combined <a href="https://github.com/makerdao/multicall" data-href="https://github.com/makerdao/multicall" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">multicall</a> is issued.</li><li name="d271" id="d271" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Refreshes on each new block</strong>â€Šâ€”â€Šthe framework checks for a new block every few seconds, when a new block arrives, a single new multicall is issued.Â <br>The values that changed since the last block will trigger the related components to refresh. Only components affected by the changed values will be updated.</li><li name="204e" id="204e" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Provides consistent viewâ€Š</strong>â€”â€Šmulticall guarantees that all values displayed are taken from the same block.</li><li name="8534" id="8534" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Cache</strong>â€Šâ€”â€Šall repetitive calls are cached.</li><li name="15b2" id="15b2" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Simple</strong>â€” The whole multicall is dynamic and fully abstracted away. You can use hooks and just not think about it.</li></ul><h3 name="ac08" id="ac08" class="graf graf--h3 graf-after--li">ğŸªHooks</h3><p name="a6d9" id="a6d9" class="graf graf--p graf-after--h3">The previous example uses <code class="markup--code markup--p-code">useTokensBalance</code> hook. Letâ€™s examine how to create a hook like that. See the code below.</p><figure name="7584" id="7584" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/marekkirejczyk/ce9cd1a724b3cd589fa950f5d72345fa.js"></script></figure><p name="e184" id="e184" class="graf graf--p graf-after--figure">Here are a few notes about the code:</p><ul class="postList"><li name="1fa5" id="1fa5" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">useContractCalls</code>â€Šâ€”â€Šprovides access to multicall services described in the previous section. It takes an array of calls or null as an argument.</li><li name="9e61" id="9e61" class="graf graf--li graf-after--li">Each <em class="markup--em markup--li-em">call</em> contains an<code class="markup--code markup--li-code">abi</code> (provided as ethers <code class="markup--code markup--li-code u-paddingRight0 u-marginRight0">Interface <strong class="markup--strong markup--li-strong">TODO</strong>)</code>Â , smart contract <code class="markup--code markup--li-code">address</code>, <code class="markup--code markup--li-code">method</code> to be called along with its <code class="markup--code markup--li-code">args</code>Â .</li><li name="1f9b" id="1f9b" class="graf graf--li graf-after--li">If the application canâ€™t do a call at a given moment (e.g. not yet connected), <em class="markup--em markup--li-em">falsy value</em> needs to be provided as an argument. This is needed to preserve the order of React hooks calls. Hence the following construction: <code class="markup--code markup--li-code">tokenList &amp;&amp; countÂ ?Â ...Â : []</code>Â .</li></ul><h3 name="3937" id="3937" class="graf graf--h3 graf-after--li">ğŸ§ª Tests</h3><p name="4b57" id="4b57" class="graf graf--p graf-after--h3">Testing is important even more in blockchain space. You will be happy to read we created a package just for testing web3-enabled hooks. We will write about it in the upcoming post.</p><h3 name="b5f9" id="b5f9" class="graf graf--h3 graf-after--p">ğŸ© <strong class="markup--strong markup--h3-strong">TheÂ goodies</strong></h3><p name="48ae" id="48ae" class="graf graf--p graf-after--h3">Additionally, the framework provides short but bound to grow list of helpers:</p><ul class="postList"><li name="b143" id="b143" class="graf graf--li graf-after--p">Block explorer links: <code class="markup--code markup--li-code">getExplorerAddressLink()</code>, <code class="markup--code markup--li-code">getExplorerTransactionLink()</code></li><li name="b2cd" id="b2cd" class="graf graf--li graf-after--li">Chain: <code class="markup--code markup--li-code">getChainName()</code>, <code class="markup--code markup--li-code">isTestChain()</code></li></ul><h3 name="bb75" id="bb75" class="graf graf--h3 graf-after--li">Links</h3><p name="03a9" id="03a9" class="graf graf--p graf-after--h3">ğŸŒ <a href="http://usedapp.io" data-href="http://usedapp.io" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Website</a><br>ğŸ’» <a href="https://github.com/ethworks/usedapp" data-href="https://github.com/ethworks/usedapp" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">GitHub</a><br>ğŸ—’ï¸ <a href="https://usedapp.readthedocs.io/" data-href="https://usedapp.readthedocs.io/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Documentation</a></p><h3 name="f586" id="f586" class="graf graf--h3 graf-after--p">âœ¨ Sponsor us onÂ GitCoin</h3><p name="37e4" id="37e4" class="graf graf--p graf-after--h3">This is just a beginning. There are <a href="https://github.com/EthWorks/useDApp/issues/75" data-href="https://github.com/EthWorks/useDApp/issues/75" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">many new features</a> that we would like to build and building a framework is a lot of work: coding, testing, solving issues on GitHub, writing documentation and tutorials.</p><p name="93e9" id="93e9" class="graf graf--p graf-after--p">Help us build a dedicated team, make DApp developersâ€™ life better and bring better UX to DApp users.</p><blockquote name="a0e4" id="a0e4" class="graf graf--pullquote graf-after--p"><em class="markup--em markup--pullquote-em">â¤ï¸ </em><a href="https://gitcoin.co/grants/2357/usedapp" data-href="https://gitcoin.co/grants/2357/usedapp" class="markup--anchor markup--pullquote-anchor" rel="noopener" target="_blank">Sponsor useDApp onÂ Gitcoin</a></blockquote><h3 name="39f1" id="39f1" class="graf graf--h3 graf-after--pullquote">From Ethworksâ€Šâ€”â€Šcreators ofÂ Waffle</h3><p name="f5b3" id="f5b3" class="graf graf--p graf-after--h3">We are Ethworksâ€Šâ€”â€Šcreators of <a href="https://getwaffle.io/" data-href="https://getwaffle.io/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Waffle</a>, the most advanced smart contract testing library used by over 3000+ projects.</p><p name="b21f" id="b21f" class="graf graf--p graf-after--p graf--trailing">For updatesâ€Šâ€”â€Šfollow us on <a href="https://twitter.com/ethworks" data-href="https://twitter.com/ethworks" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">twitter</a>.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@marekkirejczyk" class="p-author h-card">Marek Kirejczyk</a> on <a href="https://medium.com/p/4959361f242a"><time class="dt-published" datetime="2021-03-23T06:29:51.076Z">March 23, 2021</time></a>.</p><p><a href="https://medium.com/@marekkirejczyk/introducing-usedapp-framework-for-rapid-dapp-development-4959361f242a" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 22, 2025.</p></footer></article></body></html>